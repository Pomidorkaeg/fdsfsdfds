var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,d=(e,s)=>{for(var a in s||(s={}))i.call(s,a)&&l(e,a,s[a]);if(t)for(var a of t(s))r.call(s,a)&&l(e,a,s[a]);return e},n=(e,t)=>s(e,a(t));import{c as o,r as c,j as m,X as h,d as x,t as u}from"./index-DJNb8mov.js";import{L as p,I as f,B as g}from"./label-COlWKCOA.js";import{g as b,a as j}from"./teamsData-jUiTtHWj.js";import{S as w,P as y,a as v,T as D}from"./trash-Dog05uQx.js";import{C,a as N,b as H}from"./card-wm2o_p6s.js";import{S as M}from"./search-COFSShWR.js";const q=o("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),k=({player:e,onSave:s,onCancel:a})=>{const[t,i]=c.useState(d({},e)),r=b(),l=e=>{const{name:s,value:a}=e.target;["number","height","weight","matches","goals","assists","yellowCards","redCards"].includes(s)?i(n(d({},t),{[s]:parseInt(a,10)||0})):i(n(d({},t),{[s]:a}))};return m.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(t)},className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"name",children:"ФИО игрока"}),m.jsx(f,{id:"name",name:"name",value:t.name,onChange:l,required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"position",children:"Позиция"}),m.jsxs("select",{id:"position",name:"position",value:t.position,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[m.jsx("option",{value:"Вратарь",children:"Вратарь"}),m.jsx("option",{value:"Защитник",children:"Защитник"}),m.jsx("option",{value:"Полузащитник",children:"Полузащитник"}),m.jsx("option",{value:"Нападающий",children:"Нападающий"})]})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"number",children:"Номер"}),m.jsx(f,{id:"number",name:"number",type:"number",value:t.number,onChange:l,min:"1",max:"99",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"nationality",children:"Национальность"}),m.jsx(f,{id:"nationality",name:"nationality",value:t.nationality,onChange:l,required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"birthDate",children:"Дата рождения"}),m.jsx(f,{id:"birthDate",name:"birthDate",value:t.birthDate,onChange:l,placeholder:"ДД.ММ.ГГГГ",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"teamId",children:"Команда"}),m.jsx("select",{id:"teamId",name:"teamId",value:t.teamId,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:r.map((e=>m.jsx("option",{value:e.id,children:e.name},e.id)))})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"image",children:"URL фото"}),m.jsx(f,{id:"image",name:"image",value:t.image,onChange:l,required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"height",children:"Рост (см)"}),m.jsx(f,{id:"height",name:"height",type:"number",value:t.height,onChange:l,min:"150",max:"220",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"weight",children:"Вес (кг)"}),m.jsx(f,{id:"weight",name:"weight",type:"number",value:t.weight,onChange:l,min:"50",max:"120",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"matches",children:"Матчи"}),m.jsx(f,{id:"matches",name:"matches",type:"number",value:t.matches,onChange:l,min:"0",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"goals",children:"Голы"}),m.jsx(f,{id:"goals",name:"goals",type:"number",value:t.goals,onChange:l,min:"0",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"assists",children:"Передачи"}),m.jsx(f,{id:"assists",name:"assists",type:"number",value:t.assists,onChange:l,min:"0",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"yellowCards",children:"Жёлтые карточки"}),m.jsx(f,{id:"yellowCards",name:"yellowCards",type:"number",value:t.yellowCards,onChange:l,min:"0",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"redCards",children:"Красные карточки"}),m.jsx(f,{id:"redCards",name:"redCards",type:"number",value:t.redCards,onChange:l,min:"0",required:!0})]})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[m.jsxs(g,{variant:"outline",type:"button",onClick:a,children:[m.jsx(h,{className:"mr-2 h-4 w-4"})," Отмена"]}),m.jsxs(g,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[m.jsx(w,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})};let G=[{id:"1",name:"Александр Иванов",position:"Вратарь",number:1,birthDate:"15.05.1992",height:192,weight:87,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:24,goals:0,assists:1,yellowCards:1,redCards:0,teamId:"gudauta"},{id:"2",name:"Дмитрий Петров",position:"Защитник",number:4,birthDate:"23.09.1994",height:186,weight:82,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:2,assists:3,yellowCards:4,redCards:0,teamId:"gudauta"},{id:"3",name:"Артем Смирнов",position:"Защитник",number:6,birthDate:"07.12.1995",height:184,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1539614474467-f8a89c5aa8f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:26,goals:0,assists:1,yellowCards:5,redCards:1,teamId:"gudauta"},{id:"4",name:"Игорь Соколов",position:"Полузащитник",number:8,birthDate:"18.03.1993",height:177,weight:72,nationality:"Россия",image:"https://images.unsplash.com/photo-1534126416832-a88fdf2911c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:28,goals:5,assists:7,yellowCards:3,redCards:0,teamId:"gudauta"},{id:"5",name:"Сергей Козлов",position:"Полузащитник",number:10,birthDate:"05.07.1996",height:179,weight:74,nationality:"Россия",image:"https://images.unsplash.com/photo-1522529599102-193c0d76b5b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:25,goals:8,assists:10,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"6",name:"Андрей Попов",position:"Нападающий",number:9,birthDate:"12.02.1994",height:183,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1584634731339-252e5223ee7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1976&q=80",matches:27,goals:15,assists:5,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"7",name:"Виталий Новиков",position:"Вратарь",number:1,birthDate:"23.10.2001",height:188,weight:80,nationality:"Россия",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:18,goals:0,assists:0,yellowCards:0,redCards:0,teamId:"gudauta-school"},{id:"8",name:"Евгений Морозов",position:"Защитник",number:5,birthDate:"14.05.2002",height:182,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:20,goals:1,assists:0,yellowCards:3,redCards:0,teamId:"gudauta-school"},{id:"9",name:"Денис Волков",position:"Полузащитник",number:7,birthDate:"05.09.2003",height:175,weight:68,nationality:"Россия",image:"https://images.unsplash.com/photo-1618641986557-1ecd230959aa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:4,assists:6,yellowCards:2,redCards:0,teamId:"gudauta-school"},{id:"10",name:"Кирилл Зайцев",position:"Нападающий",number:11,birthDate:"28.03.2002",height:180,weight:73,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:21,goals:9,assists:3,yellowCards:1,redCards:0,teamId:"gudauta-school"}];const B=()=>{const[e]=x(),s=e.get("team")||"gudauta",[a,t]=c.useState([]),[i,r]=c.useState(""),[l,d]=c.useState(!1),[n,o]=c.useState(null),p=j(s);c.useEffect((()=>{const e=(e=>G.filter((s=>s.teamId===e)))(s);t(e)}),[s]);const b=a.filter((e=>e.name.toLowerCase().includes(i.toLowerCase())||e.position.toLowerCase().includes(i.toLowerCase()))),w=e=>{if(window.confirm("Вы уверены, что хотите удалить этого игрока?"))try{s=e,G=G.filter((e=>e.id!==s)),t(a.filter((s=>s.id!==e))),u({title:"Игрок удален",description:"Игрок был успешно удален из системы"})}catch(i){u({variant:"destructive",title:"Ошибка",description:"Не удалось удалить игрока"})}var s},B=()=>{d(!1),o(null)};return m.jsxs("div",{children:[m.jsx(C,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:m.jsxs(N,{className:"flex flex-row items-center justify-between",children:[m.jsx(H,{children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:(null==p?void 0:p.primaryColor)||"#2e7d32"},children:m.jsx(q,{className:"h-4 w-4 text-white"})}),m.jsxs("span",{children:["Управление игроками: ",(null==p?void 0:p.name)||"Команда"]})]})}),m.jsxs(g,{onClick:()=>{const e={id:`player-${Date.now()}`,name:"",position:"Нападающий",number:a.length+1,birthDate:"",height:180,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:0,goals:0,assists:0,yellowCards:0,redCards:0,teamId:s};o(e),d(!0)},className:"bg-fc-green hover:bg-fc-darkGreen",children:[m.jsx(y,{className:"mr-2 h-4 w-4"})," Добавить игрока"]})]})}),l&&n?m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:n.id.includes("player-")&&!a.some((e=>e.id===n.id))?"Добавить нового игрока":"Редактировать игрока"}),m.jsx("div",{className:"flex space-x-2",children:m.jsxs(g,{variant:"outline",size:"sm",onClick:B,children:[m.jsx(h,{className:"mr-2 h-4 w-4"})," Отмена"]})})]}),m.jsx(k,{player:n,onSave:e=>{try{a.some((s=>s.id===e.id))?((e=>{G=G.map((s=>s.id===e.id?e:s))})(e),t(a.map((s=>s.id===e.id?e:s))),u({title:"Игрок обновлен",description:"Информация об игроке успешно обновлена"})):((e=>{if(G.some((s=>s.id===e.id)))throw new Error("Player with this ID already exists");G.push(e)})(e),t([...a,e]),u({title:"Игрок добавлен",description:"Новый игрок успешно добавлен в систему"})),d(!1),o(null)}catch(s){u({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}},onCancel:B})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsx(f,{className:"pl-10",placeholder:"Поиск игроков по имени или позиции...",value:i,onChange:e=>r(e.target.value)})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"№"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Игрок"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Позиция"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Характеристики"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статистика"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),m.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[b.map((e=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-medium text-sm",style:{backgroundColor:(null==p?void 0:p.primaryColor)||"#2e7d32"},children:e.number})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:e.image,alt:e.name})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),m.jsx("div",{className:"text-sm text-gray-500",children:e.nationality})]})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.position})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.height," см, ",e.weight," кг"]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800",children:[e.matches," матчей"]}),m.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:[e.goals," голов"]})]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx(g,{variant:"ghost",size:"sm",onClick:()=>(e=>{o(e),d(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:m.jsx(v,{className:"h-4 w-4"})}),m.jsx(g,{variant:"ghost",size:"sm",onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900",children:m.jsx(D,{className:"h-4 w-4"})})]})]},e.id))),0===b.length&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Игроки не найдены. Добавьте первого игрока!"})})]})]})})]})]})};export{B as default};
