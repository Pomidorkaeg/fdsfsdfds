var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(s,a,i)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[a]=i,n=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&l(e,a,s[a]);if(i)for(var a of i(s))t.call(s,a)&&l(e,a,s[a]);return e},o=(e,i)=>s(e,a(i));import{c,r as d,j as m,X as x,d as h,t as f}from"./index-DJNb8mov.js";import{L as p,I as u,B as g}from"./label-COlWKCOA.js";import{T as b,A as j}from"./textarea-B9wHDOWw.js";import{g as v,a as w}from"./teamsData-jUiTtHWj.js";import{S as y,P as N,a as D,T as C}from"./trash-Dog05uQx.js";import{C as M,a as H,b as B}from"./card-wm2o_p6s.js";import{S as G}from"./search-COFSShWR.js";import{C as I}from"./calendar-CFOpHLv1.js";const A=c("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),q=({coach:e,onSave:s,onCancel:a})=>{const[i,r]=d.useState(n({},e)),t=v(),l=e=>{const{name:s,value:a}=e.target;["experience"].includes(s)?r(o(n({},i),{[s]:parseInt(a,10)||0})):r(o(n({},i),{[s]:a}))};return m.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(i)},className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"name",children:"ФИО тренера"}),m.jsx(u,{id:"name",name:"name",value:i.name,onChange:l,required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"role",children:"Должность"}),m.jsx(u,{id:"role",name:"role",value:i.role,onChange:l,required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"since",children:"В клубе с"}),m.jsx(u,{id:"since",name:"since",value:i.since,onChange:l,placeholder:"Год",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"experience",children:"Опыт работы (лет)"}),m.jsx(u,{id:"experience",name:"experience",type:"number",value:i.experience,onChange:l,min:"0",required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"teamId",children:"Команда"}),m.jsx("select",{id:"teamId",name:"teamId",value:i.teamId,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:t.map((e=>m.jsx("option",{value:e.id,children:e.name},e.id)))})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(p,{htmlFor:"image",children:"URL фото"}),m.jsx(u,{id:"image",name:"image",value:i.image,onChange:l,required:!0})]}),m.jsxs("div",{children:[m.jsx(p,{htmlFor:"biography",children:"Биография"}),m.jsx(b,{id:"biography",name:"biography",value:i.biography,onChange:l,rows:7,required:!0})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[m.jsxs(g,{variant:"outline",type:"button",onClick:a,children:[m.jsx(x,{className:"mr-2 h-4 w-4"})," Отмена"]}),m.jsxs(g,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[m.jsx(y,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})};let k=[{id:"1",name:"Сергей Павлович Иванов",role:"Главный тренер",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2021",experience:15,biography:"Опытный специалист с многолетним стажем работы в профессиональных командах.",teamId:"gudauta"},{id:"2",name:"Алексей Николаевич Петров",role:"Ассистент тренера",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",since:"2022",experience:8,biography:"Специализируется на тактической подготовке и анализе игр соперников.",teamId:"gudauta"},{id:"3",name:"Дмитрий Александрович Сидоров",role:"Тренер вратарей",image:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2022",experience:10,biography:"Бывший профессиональный вратарь, посвятивший себя тренерской работе.",teamId:"gudauta"},{id:"4",name:"Игорь Владимирович Кузнецов",role:"Физиотерапевт",image:"https://images.unsplash.com/photo-1531891437562-4301cf35b7e4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1964&q=80",since:"2023",experience:7,biography:"Специалист по физической подготовке и реабилитации после травм.",teamId:"gudauta"},{id:"5",name:"Михаил Семенович Федоров",role:"Главный тренер",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:"2022",experience:12,biography:"Специализируется на работе с молодыми футболистами и их развитии.",teamId:"gudauta-school"},{id:"6",name:"Андрей Петрович Смирнов",role:"Тренер юношеской команды",image:"https://images.unsplash.com/photo-1534126416832-a88fdf2911c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",since:"2022",experience:5,biography:"Молодой и перспективный тренер с современным подходом к тренировкам.",teamId:"gudauta-school"}];const S=()=>{const[e]=h(),s=e.get("team")||"gudauta",[a,i]=d.useState([]),[r,t]=d.useState(""),[l,n]=d.useState(!1),[o,c]=d.useState(null),x=w(s);d.useEffect((()=>{const e=(e=>k.filter((s=>s.teamId===e)))(s);i(e)}),[s]);const p=a.filter((e=>e.name.toLowerCase().includes(r.toLowerCase())||e.role.toLowerCase().includes(r.toLowerCase()))),b=e=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{s=e,k=k.filter((e=>e.id!==s)),i(a.filter((s=>s.id!==e))),f({title:"Тренер удален",description:"Тренер был успешно удален из системы"})}catch(r){f({variant:"destructive",title:"Ошибка",description:"Не удалось удалить тренера"})}var s};return m.jsxs("div",{children:[m.jsx(M,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:m.jsxs(H,{className:"flex flex-row items-center justify-between",children:[m.jsx(B,{children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:(null==x?void 0:x.primaryColor)||"#2e7d32"},children:m.jsx(A,{className:"h-4 w-4 text-white"})}),m.jsxs("span",{children:["Управление тренерами: ",(null==x?void 0:x.name)||"Команда"]})]})}),m.jsxs(g,{onClick:()=>{const e={id:`coach-${Date.now()}`,name:"",role:"Тренер",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",since:(new Date).getFullYear().toString(),experience:0,biography:"",teamId:s};c(e),n(!0)},className:"bg-fc-green hover:bg-fc-darkGreen",children:[m.jsx(N,{className:"mr-2 h-4 w-4"})," Добавить тренера"]})]})}),l&&o?m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[m.jsx("div",{className:"flex justify-between items-center mb-4",children:m.jsx("h2",{className:"text-xl font-bold",children:o.id.includes("coach-")&&!a.some((e=>e.id===o.id))?"Добавить нового тренера":"Редактировать тренера"})}),m.jsx(q,{coach:o,onSave:e=>{try{a.some((s=>s.id===e.id))?((e=>{k=k.map((s=>s.id===e.id?e:s))})(e),i(a.map((s=>s.id===e.id?e:s))),f({title:"Тренер обновлен",description:"Информация о тренере успешно обновлена"})):((e=>{if(k.some((s=>s.id===e.id)))throw new Error("Coach with this ID already exists");k.push(e)})(e),i([...a,e]),f({title:"Тренер добавлен",description:"Новый тренер успешно добавлен в систему"})),n(!1),c(null)}catch(s){f({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}},onCancel:()=>{n(!1),c(null)}})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsx(u,{className:"pl-10",placeholder:"Поиск тренеров по имени или должности...",value:r,onChange:e=>t(e.target.value)})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.map((e=>m.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition-all",children:[m.jsxs("div",{className:"relative h-48",children:[m.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),m.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[m.jsx("div",{className:"text-xs font-medium text-white/70 mb-1",children:e.role}),m.jsx("h3",{className:"text-xl font-bold text-white",children:e.name})]})]}),m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("div",{className:"flex items-center space-x-2",children:m.jsxs("div",{className:"flex items-center text-gray-500",children:[m.jsx(I,{className:"h-4 w-4 mr-1"}),m.jsxs("span",{className:"text-sm",children:["С ",e.since," года"]})]})}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(j,{className:"h-4 w-4 text-amber-500"}),m.jsxs("span",{className:"text-sm",children:[e.experience," лет опыта"]})]})]}),m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:e.biography}),m.jsxs("div",{className:"flex justify-end space-x-2 mt-auto",children:[m.jsx(g,{variant:"ghost",size:"sm",onClick:()=>(e=>{c(e),n(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:m.jsx(D,{className:"h-4 w-4"})}),m.jsx(g,{variant:"ghost",size:"sm",onClick:()=>b(e.id),className:"text-red-600 hover:text-red-900",children:m.jsx(C,{className:"h-4 w-4"})})]})]})]},e.id))),0===p.length&&m.jsx("div",{className:"col-span-full text-center py-12 bg-gray-50 rounded-lg",children:m.jsx("div",{className:"text-gray-500",children:"Тренеры не найдены. Добавьте первого тренера!"})})]})]})]})};export{S as default};
