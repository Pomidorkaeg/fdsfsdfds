var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,d=(e,s)=>{for(var a in s||(s={}))i.call(s,a)&&l(e,a,s[a]);if(t)for(var a of t(s))r.call(s,a)&&l(e,a,s[a]);return e},n=(e,t)=>s(e,a(t));import{j as o,X as c,z as m,B as h,H as x,k as u,J as p,K as f}from"./ui-DYZMxKco.js";import{r as g,d as b}from"./vendor-BxabhSNU.js";import{L as j,I as w,B as y}from"./label-CPe3H02_.js";import{g as v,a as D}from"./teamsData-jUiTtHWj.js";import{t as C}from"./index-BMspNS-n.js";import{C as N,a as H,b as M}from"./card-C8tEZ_z_.js";const q=({player:e,onSave:s,onCancel:a})=>{const[t,i]=g.useState(d({},e)),r=v(),l=e=>{const{name:s,value:a}=e.target;["number","height","weight","matches","goals","assists","yellowCards","redCards"].includes(s)?i(n(d({},t),{[s]:parseInt(a,10)||0})):i(n(d({},t),{[s]:a}))};return o.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(t)},className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(j,{htmlFor:"name",children:"ФИО игрока"}),o.jsx(w,{id:"name",name:"name",value:t.name,onChange:l,required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"position",children:"Позиция"}),o.jsxs("select",{id:"position",name:"position",value:t.position,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[o.jsx("option",{value:"Вратарь",children:"Вратарь"}),o.jsx("option",{value:"Защитник",children:"Защитник"}),o.jsx("option",{value:"Полузащитник",children:"Полузащитник"}),o.jsx("option",{value:"Нападающий",children:"Нападающий"})]})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"number",children:"Номер"}),o.jsx(w,{id:"number",name:"number",type:"number",value:t.number,onChange:l,min:"1",max:"99",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"nationality",children:"Национальность"}),o.jsx(w,{id:"nationality",name:"nationality",value:t.nationality,onChange:l,required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"birthDate",children:"Дата рождения"}),o.jsx(w,{id:"birthDate",name:"birthDate",value:t.birthDate,onChange:l,placeholder:"ДД.ММ.ГГГГ",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"teamId",children:"Команда"}),o.jsx("select",{id:"teamId",name:"teamId",value:t.teamId,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:r.map((e=>o.jsx("option",{value:e.id,children:e.name},e.id)))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(j,{htmlFor:"image",children:"URL фото"}),o.jsx(w,{id:"image",name:"image",value:t.image,onChange:l,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(j,{htmlFor:"height",children:"Рост (см)"}),o.jsx(w,{id:"height",name:"height",type:"number",value:t.height,onChange:l,min:"150",max:"220",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"weight",children:"Вес (кг)"}),o.jsx(w,{id:"weight",name:"weight",type:"number",value:t.weight,onChange:l,min:"50",max:"120",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(j,{htmlFor:"matches",children:"Матчи"}),o.jsx(w,{id:"matches",name:"matches",type:"number",value:t.matches,onChange:l,min:"0",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"goals",children:"Голы"}),o.jsx(w,{id:"goals",name:"goals",type:"number",value:t.goals,onChange:l,min:"0",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(j,{htmlFor:"assists",children:"Передачи"}),o.jsx(w,{id:"assists",name:"assists",type:"number",value:t.assists,onChange:l,min:"0",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"yellowCards",children:"Жёлтые карточки"}),o.jsx(w,{id:"yellowCards",name:"yellowCards",type:"number",value:t.yellowCards,onChange:l,min:"0",required:!0})]}),o.jsxs("div",{children:[o.jsx(j,{htmlFor:"redCards",children:"Красные карточки"}),o.jsx(w,{id:"redCards",name:"redCards",type:"number",value:t.redCards,onChange:l,min:"0",required:!0})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[o.jsxs(y,{variant:"outline",type:"button",onClick:a,children:[o.jsx(c,{className:"mr-2 h-4 w-4"})," Отмена"]}),o.jsxs(y,{type:"submit",className:"bg-fc-green hover:bg-fc-darkGreen",children:[o.jsx(m,{className:"mr-2 h-4 w-4"})," Сохранить"]})]})]})};let B=[{id:"1",name:"Александр Иванов",position:"Вратарь",number:1,birthDate:"15.05.1992",height:192,weight:87,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:24,goals:0,assists:1,yellowCards:1,redCards:0,teamId:"gudauta"},{id:"2",name:"Дмитрий Петров",position:"Защитник",number:4,birthDate:"23.09.1994",height:186,weight:82,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:2,assists:3,yellowCards:4,redCards:0,teamId:"gudauta"},{id:"3",name:"Артем Смирнов",position:"Защитник",number:6,birthDate:"07.12.1995",height:184,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1539614474467-f8a89c5aa8f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:26,goals:0,assists:1,yellowCards:5,redCards:1,teamId:"gudauta"},{id:"4",name:"Игорь Соколов",position:"Полузащитник",number:8,birthDate:"18.03.1993",height:177,weight:72,nationality:"Россия",image:"https://images.unsplash.com/photo-1534126416832-a88fdf2911c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:28,goals:5,assists:7,yellowCards:3,redCards:0,teamId:"gudauta"},{id:"5",name:"Сергей Козлов",position:"Полузащитник",number:10,birthDate:"05.07.1996",height:179,weight:74,nationality:"Россия",image:"https://images.unsplash.com/photo-1522529599102-193c0d76b5b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",matches:25,goals:8,assists:10,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"6",name:"Андрей Попов",position:"Нападающий",number:9,birthDate:"12.02.1994",height:183,weight:78,nationality:"Россия",image:"https://images.unsplash.com/photo-1584634731339-252e5223ee7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1976&q=80",matches:27,goals:15,assists:5,yellowCards:2,redCards:0,teamId:"gudauta"},{id:"7",name:"Виталий Новиков",position:"Вратарь",number:1,birthDate:"23.10.2001",height:188,weight:80,nationality:"Россия",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:18,goals:0,assists:0,yellowCards:0,redCards:0,teamId:"gudauta-school"},{id:"8",name:"Евгений Морозов",position:"Защитник",number:5,birthDate:"14.05.2002",height:182,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:20,goals:1,assists:0,yellowCards:3,redCards:0,teamId:"gudauta-school"},{id:"9",name:"Денис Волков",position:"Полузащитник",number:7,birthDate:"05.09.2003",height:175,weight:68,nationality:"Россия",image:"https://images.unsplash.com/photo-1618641986557-1ecd230959aa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:22,goals:4,assists:6,yellowCards:2,redCards:0,teamId:"gudauta-school"},{id:"10",name:"Кирилл Зайцев",position:"Нападающий",number:11,birthDate:"28.03.2002",height:180,weight:73,nationality:"Россия",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:21,goals:9,assists:3,yellowCards:1,redCards:0,teamId:"gudauta-school"}];const G=()=>{const[e]=b(),s=e.get("team")||"gudauta",[a,t]=g.useState([]),[i,r]=g.useState(""),[l,d]=g.useState(!1),[n,m]=g.useState(null),j=D(s);g.useEffect((()=>{const e=(e=>B.filter((s=>s.teamId===e)))(s);t(e)}),[s]);const v=a.filter((e=>e.name.toLowerCase().includes(i.toLowerCase())||e.position.toLowerCase().includes(i.toLowerCase()))),G=e=>{if(window.confirm("Вы уверены, что хотите удалить этого игрока?"))try{s=e,B=B.filter((e=>e.id!==s)),t(a.filter((s=>s.id!==e))),C({title:"Игрок удален",description:"Игрок был успешно удален из системы"})}catch(i){C({variant:"destructive",title:"Ошибка",description:"Не удалось удалить игрока"})}var s},A=()=>{d(!1),m(null)};return o.jsxs("div",{children:[o.jsx(N,{className:"mb-8 bg-gradient-to-br from-white to-gray-50",children:o.jsxs(H,{className:"flex flex-row items-center justify-between",children:[o.jsx(M,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full mr-3 flex items-center justify-center",style:{backgroundColor:(null==j?void 0:j.primaryColor)||"#2e7d32"},children:o.jsx(h,{className:"h-4 w-4 text-white"})}),o.jsxs("span",{children:["Управление игроками: ",(null==j?void 0:j.name)||"Команда"]})]})}),o.jsxs(y,{onClick:()=>{const e={id:`player-${Date.now()}`,name:"",position:"Нападающий",number:a.length+1,birthDate:"",height:180,weight:75,nationality:"Россия",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",matches:0,goals:0,assists:0,yellowCards:0,redCards:0,teamId:s};m(e),d(!0)},className:"bg-fc-green hover:bg-fc-darkGreen",children:[o.jsx(x,{className:"mr-2 h-4 w-4"})," Добавить игрока"]})]})}),l&&n?o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:n.id.includes("player-")&&!a.some((e=>e.id===n.id))?"Добавить нового игрока":"Редактировать игрока"}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs(y,{variant:"outline",size:"sm",onClick:A,children:[o.jsx(c,{className:"mr-2 h-4 w-4"})," Отмена"]})})]}),o.jsx(q,{player:n,onSave:e=>{try{a.some((s=>s.id===e.id))?((e=>{B=B.map((s=>s.id===e.id?e:s))})(e),t(a.map((s=>s.id===e.id?e:s))),C({title:"Игрок обновлен",description:"Информация об игроке успешно обновлена"})):((e=>{if(B.some((s=>s.id===e.id)))throw new Error("Player with this ID already exists");B.push(e)})(e),t([...a,e]),C({title:"Игрок добавлен",description:"Новый игрок успешно добавлен в систему"})),d(!1),m(null)}catch(s){C({variant:"destructive",title:"Ошибка",description:"Не удалось сохранить изменения"})}},onCancel:A})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx(w,{className:"pl-10",placeholder:"Поиск игроков по имени или позиции...",value:i,onChange:e=>r(e.target.value)})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"№"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Игрок"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Позиция"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Характеристики"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Статистика"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Действия"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[v.map((e=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white font-medium text-sm",style:{backgroundColor:(null==j?void 0:j.primaryColor)||"#2e7d32"},children:e.number})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:o.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:e.image,alt:e.name})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),o.jsx("div",{className:"text-sm text-gray-500",children:e.nationality})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.position})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.height," см, ",e.weight," кг"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800",children:[e.matches," матчей"]}),o.jsxs("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:[e.goals," голов"]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx(y,{variant:"ghost",size:"sm",onClick:()=>(e=>{m(e),d(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:o.jsx(p,{className:"h-4 w-4"})}),o.jsx(y,{variant:"ghost",size:"sm",onClick:()=>G(e.id),className:"text-red-600 hover:text-red-900",children:o.jsx(f,{className:"h-4 w-4"})})]})]},e.id))),0===v.length&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Игроки не найдены. Добавьте первого игрока!"})})]})]})})]})]})};export{G as default};
