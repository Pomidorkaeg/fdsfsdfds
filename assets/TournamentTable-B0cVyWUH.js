import{c as e,r as s,u as t,j as a,a as n}from"./index-DJNb8mov.js";import{a as r}from"./api-Bf-GQ65r.js";import{C as i}from"./calendar-CFOpHLv1.js";import{T as o}from"./trophy-DjH_7yvG.js";import{S as l}from"./star-CIwlexxQ.js";import"./chevron-right-BEXYx-T3.js";const c=e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),d=e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),x=({tournamentId:e,source:x})=>{const[m,p]=s.useState(null),[h,g]=s.useState(!0),[f,y]=s.useState(null),[j,u]=s.useState("teams"),{toast:b}=t(),N=()=>{return s=void 0,t=null,a=function*(){g(!0),y(null);try{const s=yield r(e,x);p(s),g(!1)}catch(s){y("Не удалось загрузить данные турнирной таблицы"),g(!1),b({variant:"destructive",title:"Ошибка загрузки",description:"Не удалось загрузить данные турнирной таблицы"})}},new Promise(((e,n)=>{var r=e=>{try{o(a.next(e))}catch(s){n(s)}},i=e=>{try{o(a.throw(e))}catch(s){n(s)}},o=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,i);o((a=a.apply(s,t)).next())}));var s,t,a};s.useEffect((()=>{N()}),[e,x]);const w=()=>{N(),b({title:"Обновление данных",description:"Данные турнирной таблицы обновляются"})};if(h)return a.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 rounded-xl border border-gray-200 bg-white/50",children:[a.jsx("div",{className:"animate-spin mb-4",children:a.jsx(d,{size:32,className:"text-fc-green"})}),a.jsx("p",{className:"text-gray-500",children:"Загрузка турнирной таблицы..."})]});if(f)return a.jsxs("div",{className:"min-h-[200px] flex flex-col items-center justify-center p-6 rounded-xl border border-red-200 bg-red-50",children:[a.jsx(c,{size:32,className:"text-fc-red mb-4"}),a.jsx("p",{className:"text-fc-red font-medium mb-2",children:"Ошибка загрузки данных"}),a.jsx("p",{className:"text-gray-500 mb-4 text-center",children:f}),a.jsxs("button",{onClick:w,className:"px-4 py-2 bg-fc-green text-white rounded-md flex items-center gap-2 hover:bg-fc-darkGreen transition-colors duration-300",children:[a.jsx(d,{size:16}),"Повторить попытку"]})]});const v=m||{title:"Кубок среди любительских команд МОО СФФ «Сибирь» сезона 2024 года",season:"2024",lastUpdated:"15.03.2024",teams:[{position:1,name:"«Бурятия» (Улан-Удэ)",played:7,won:5,drawn:2,lost:0,goalsFor:15,goalsAgainst:6,goalDifference:9,points:17},{position:2,name:"«Распадская» (Междуреченск)",played:7,won:4,drawn:0,lost:3,goalsFor:9,goalsAgainst:4,goalDifference:5,points:12},{position:3,name:"«Темп» (Барнаул)",played:6,won:3,drawn:2,lost:1,goalsFor:9,goalsAgainst:4,goalDifference:5,points:11},{position:4,name:"«Рассвет» (Красноярск)",played:4,won:1,drawn:3,lost:0,goalsFor:6,goalsAgainst:3,goalDifference:3,points:6},{position:5,name:"«Енисей-М» (Красноярск)",played:6,won:1,drawn:3,lost:2,goalsFor:7,goalsAgainst:7,goalDifference:0,points:6},{position:6,name:"«Байкал» (Иркутск)",played:4,won:2,drawn:0,lost:2,goalsFor:5,goalsAgainst:6,goalDifference:-1,points:6},{position:7,name:"«ТОЦ-Хайра» (Барнаул)",played:4,won:1,drawn:2,lost:1,goalsFor:5,goalsAgainst:6,goalDifference:-1,points:5},{position:8,name:"«Восход» Ден-СРФ (Томск)",played:2,won:1,drawn:0,lost:1,goalsFor:2,goalsAgainst:3,goalDifference:-1,points:3}],topScorers:[{position:1,name:"Рыбованов Алексей",team:"Бурятия",goals:5},{position:2,name:"Бекеровский Андрей",team:"Темп",goals:4},{position:3,name:"Винтер Даниил",team:"Рассвет",goals:3},{position:4,name:"Савченко Борис",team:"Енисей-М",goals:3},{position:5,name:"Бенедиктов Владимир",team:"Байкал",goals:2}],warnings:[{position:1,name:"Рыбованов Алексей",team:"Бурятия",warnings:4},{position:2,name:"Голополобов Евгений",team:"Распадская",warnings:4},{position:3,name:"Чуриков Даниил",team:"Енисей-М",warnings:3},{position:4,name:"Жариков Роман",team:"Темп",warnings:2},{position:5,name:"Голышев Александр",team:"Восход",warnings:2}],expulsions:[{position:1,name:"Абдуллаев Степан",team:"Енисей-М",expulsions:1},{position:2,name:"Воропаев Кирилл",team:"Распадская",expulsions:1},{position:3,name:"Яковлев Егор",team:"Темп",expulsions:1},{position:4,name:"Пальму Ян",team:"Байкал",expulsions:1},{position:5,name:"Шориков Даниил",team:"Восход",expulsions:1}]};return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden transition-all duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:v.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-gray-500",children:[a.jsx(i,{size:16}),a.jsxs("span",{children:["Сезон ",v.season]}),a.jsx("span",{className:"text-gray-300 mx-2",children:"|"}),a.jsxs("span",{children:["Обновлено: ",v.lastUpdated]})]})]}),a.jsxs("button",{onClick:w,className:"px-4 py-2 bg-fc-green/10 text-fc-green rounded-md flex items-center gap-2 hover:bg-fc-green hover:text-white transition-colors duration-300 ml-auto",children:[a.jsx(d,{size:16}),"Обновить"]})]}),a.jsx("div",{className:"border-b border-gray-100",children:a.jsxs("div",{className:"flex",children:[a.jsxs("button",{onClick:()=>u("teams"),className:n("px-4 py-3 text-sm font-medium flex items-center gap-2 transition-colors duration-300","teams"===j?"text-fc-green border-b-2 border-fc-green":"text-gray-500 hover:text-fc-green"),children:[a.jsx(o,{size:16}),"Таблица команд"]}),a.jsxs("button",{onClick:()=>u("scorers"),className:n("px-4 py-3 text-sm font-medium flex items-center gap-2 transition-colors duration-300","scorers"===j?"text-fc-green border-b-2 border-fc-green":"text-gray-500 hover:text-fc-green"),children:[a.jsx(l,{size:16}),"Бомбардиры"]}),a.jsxs("button",{onClick:()=>u("disciplinary"),className:n("px-4 py-3 text-sm font-medium flex items-center gap-2 transition-colors duration-300","disciplinary"===j?"text-fc-green border-b-2 border-fc-green":"text-gray-500 hover:text-fc-green"),children:[a.jsx(c,{size:16}),"Дисциплина"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:["teams"===j&&a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"py-3 px-4 font-medium",children:"№"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Команда"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"И"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"В"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Н"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"П"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Мячи"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"О"})]})}),a.jsx("tbody",{children:v.teams.map((e=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors duration-150",children:[a.jsx("td",{className:"py-3 px-4 text-center font-medium",children:e.position<=3?a.jsx("span",{className:n("flex items-center justify-center w-6 h-6 rounded-full text-white font-bold text-xs",1===e.position?"bg-fc-yellow":2===e.position?"bg-gray-400":"bg-[#cd7f32]"),children:e.position}):e.position}),a.jsx("td",{className:"py-3 px-4 font-medium",children:e.name}),a.jsx("td",{className:"py-3 px-4 text-center",children:e.played}),a.jsx("td",{className:"py-3 px-4 text-center",children:e.won}),a.jsx("td",{className:"py-3 px-4 text-center",children:e.drawn}),a.jsx("td",{className:"py-3 px-4 text-center",children:e.lost}),a.jsxs("td",{className:"py-3 px-4 text-center",children:[e.goalsFor,"-",e.goalsAgainst]}),a.jsx("td",{className:"py-3 px-4 text-center font-bold",children:e.points})]},`${e.position}-${e.name}`)))})]}),"scorers"===j&&a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"py-3 px-4 font-medium",children:"№"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Игрок"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Команда"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Голов"})]})}),a.jsx("tbody",{children:v.topScorers.map((e=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors duration-150",children:[a.jsx("td",{className:"py-3 px-4 text-center font-medium",children:e.position}),a.jsx("td",{className:"py-3 px-4 font-medium",children:e.name}),a.jsx("td",{className:"py-3 px-4",children:e.team}),a.jsx("td",{className:"py-3 px-4 text-center font-bold",children:e.goals})]},`${e.position}-${e.name}`)))})]}),"disciplinary"===j&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold px-6 py-4 border-b border-gray-100",children:"Предупреждения"}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"py-3 px-4 font-medium",children:"№"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Игрок"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Команда"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Предупреждений"})]})}),a.jsx("tbody",{children:v.warnings.map((e=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors duration-150",children:[a.jsx("td",{className:"py-3 px-4 text-center font-medium",children:e.position}),a.jsx("td",{className:"py-3 px-4 font-medium",children:e.name}),a.jsx("td",{className:"py-3 px-4",children:e.team}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("span",{className:"px-2 py-1 bg-fc-yellow/10 text-fc-yellow rounded-full text-xs font-medium",children:e.warnings})})]},`warning-${e.position}-${e.name}`)))})]}),a.jsx("h3",{className:"text-lg font-semibold px-6 py-4 border-t border-b border-gray-100 mt-4",children:"Удаления"}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"py-3 px-4 font-medium",children:"№"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Игрок"}),a.jsx("th",{className:"py-3 px-4 font-medium",children:"Команда"}),a.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Удалений"})]})}),a.jsx("tbody",{children:v.expulsions.map((e=>a.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50 transition-colors duration-150",children:[a.jsx("td",{className:"py-3 px-4 text-center font-medium",children:e.position}),a.jsx("td",{className:"py-3 px-4 font-medium",children:e.name}),a.jsx("td",{className:"py-3 px-4",children:e.team}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("span",{className:"px-2 py-1 bg-fc-red/10 text-fc-red rounded-full text-xs font-medium",children:e.expulsions})})]},`expulsion-${e.position}-${e.name}`)))})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 text-xs text-gray-500 border-t border-gray-100",children:["Источник данных: ",x," | Данные могут обновляться с задержкой"]})]})};export{x as default};
